(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{36:function(t,e,n){},54:function(t,e,n){},55:function(t,e,n){"use strict";n.r(e);var i=n(1),s=n(0),r=n.n(s),o=n(9),c=n.n(o),a=n(2),u=n(3),h=n(5),p=n(4),l=n(10),d=n(8),j=n(7),b="QUESTION_ANSWER",m="CHANGE_QUIZ",O="SUBMIT",z="INIT_QUIZZES",f="RESET";function v(t){return{type:m,payload:{index:t}}}function g(t){return{type:z,payload:{quizzes:t}}}var x=Object(j.b)({score:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case O:console.log("submit score");for(var n=e.payload.quizzes,i=0,s=0;s<n.length;s++)n[s].userAnswer==n[s].answer&&i++;return console.log("puntos:",i),i;case f:return 0;default:return t}},finished:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case f:return!1;case O:return console.log("submit finnished",t),!0;default:return t}},currentQuiz:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case m:var n=e.payload.index;return 25===n?(console.log("State alante",t,n),t+1):26===n?(console.log("State atr\xe1s",t,n),t-1):n;default:return t}},quizzes:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.type){case b:return t.map((function(t,n){return Object(d.a)(Object(d.a)({},t),{},{userAnswer:e.payload.index===n?e.payload.answer:t.userAnswer})}));case z:return e.payload.quizzes;default:return t}}}),y=(n.p,n(36),function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;console.log("Quiz",this.props.quiz);var e="",n="",s="";return null!==this.props.quiz.author?(e=this.props.quiz.author.username,null!==this.props.quiz.author.photo&&null!==this.props.quiz.author.photo.url&&(n=this.props.quiz.author.photo.url)):(e="Sin autor",n="https://cdn.icon-icons.com/icons2/2367/PNG/512/user_icon_143482.png"),s=null!==this.props.quiz.attachment&&null!==this.props.quiz.attachment.url?this.props.quiz.attachment.url:"https://www.flaticon.es/svg/static/icons/svg/545/545676.svg",Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"autor",children:["Creado por: ",e||"Sin nombre",Object(i.jsx)("div",{className:"img",children:Object(i.jsx)("img",{src:n,width:70,height:70})})]}),Object(i.jsxs)("div",{className:"prueba",children:[this.props.quiz.question,Object(i.jsx)("input",{type:"text",onChange:function(e){return t.props.onQuestionAnswer(e.target.value)},value:this.props.quiz.userAnswer,onKeyDown:function(e){"Enter"===e.key&&(t.props.quiz.id!==t.props.quizzes[t.props.quizzes.length-1].id&&0!==t.props.quizzes.length?t.props.onChangeQuiz(25):t.props.onSubmit())}}),Object(i.jsx)("img",{src:s,width:500,height:250})]}),Object(i.jsxs)("div",{className:"actions",children:[Object(i.jsx)("button",{className:"back",onClick:function(){return t.props.onChangeQuiz(26)},disabled:this.props.quiz.id==this.props.quizzes[0].id||0==this.props.quizzes.length,children:"Anterior"}),Object(i.jsx)("button",{className:"submit",onClick:function(){return t.props.onSubmit()},children:"Submit"}),Object(i.jsx)("button",{className:"next",onClick:function(){return t.props.onChangeQuiz(25)},disabled:this.props.quiz.id==this.props.quizzes[this.props.quizzes.length-1].id||0==this.props.quizzes.length,children:"Siguiente"})]})]})}}]),n}(r.a.Component)),q=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return this.props.quizzes.map((function(e,n){return Object(i.jsx)("button",{onClick:function(){return t.props.onChangeQuiz(n)},children:n+1})}))}}]),n}(r.a.Component),w=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).state={date:new Date,number:60},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date}),this.state.number>0?this.setState({number:this.state.number-1}):this.props.onSubmit()}},{key:"render",value:function(){return Object(i.jsx)("div",{children:Object(i.jsxs)("h2",{children:["Tiempo restante: ",this.state.number," segundos"]})})}}]),n}(r.a.Component);function S(t){return Object(i.jsx)("h1",{children:"Mis Quizzes 2021"})}var C=n(15),k=n.n(C),Q=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(i.jsx)("button",{className:"reset",onClick:function(){return t.props.onReset()},children:"Reset"})}}]),n}(r.a.Component),N=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.score;return t>3?Object(i.jsxs)("div",{className:"final",children:[Object(i.jsxs)("h3",{children:["\xa1\xa1Felicidades!!, has conseguido ",t," puntos"]}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://www.flaticon.es/svg/static/icons/svg/1366/1366509.svg",width:200,height:200})})]}):t<=3?Object(i.jsxs)("div",{className:"final",children:[Object(i.jsxs)("h3",{children:["Qu\xe9 pena, solo has conseguido ",t," punto(s)."]}),Object(i.jsx)("h3",{children:" Vas a tener que esforzarte m\xe1s"}),Object(i.jsx)("div",{children:Object(i.jsx)("img",{src:"https://thumbs.dreamstime.com/b/icono-triste-del-emoji-emoticon-de-la-cara-121697442.jpg",width:200,height:200})})]}):void 0}}]),n}(r.a.Component),I=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).onChangeQuiz=function(t){console.log("BOTON NEXT",t),i.props.dispatch(v(t))},i.onQuestionAnswer=function(t){i.props.dispatch(function(t,e){return{type:b,payload:{index:t,answer:e}}}(i.props.currentQuiz,t))},i.onSubmit=function(){var t;console.log("Submit APP"),i.props.dispatch((t=i.props.quizzes,{type:O,payload:{quizzes:t}}))},i.onReset=function(){i.setState({loading:!0}),setTimeout((function(){i.setState({loading:!1})}),2e3),k.a.get("https://core.dit.upm.es/api/quizzes/random10wa?token=75c24188e8a237d4b32d").then((function(t){i.props.dispatch(g(t.data))})),i.props.dispatch({type:f}),i.props.dispatch(v(0))},i.state={loading:!0},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.setState({loading:!1})}),2e3),k.a.get("https://core.dit.upm.es/api/quizzes/random10wa?token=75c24188e8a237d4b32d").then((function(e){t.props.dispatch(g(e.data))}))}},{key:"render",value:function(){return this.props.finished?Object(i.jsx)("div",{children:this.state.loading?Object(i.jsx)("img",{src:"https://miro.medium.com/max/1158/1*9EBHIOzhE1XfMYoKz1JcsQ.gif",className:"spinner",alt:"spinner"}):Object(i.jsxs)("div",{children:[Object(i.jsx)(S,{}),Object(i.jsx)(N,{score:this.props.score}),Object(i.jsx)("div",{className:"finalr",children:Object(i.jsx)(Q,{onReset:this.onReset})})]})}):Object(i.jsx)("div",{className:"App",children:this.state.loading?Object(i.jsx)("img",{src:"https://miro.medium.com/max/1158/1*9EBHIOzhE1XfMYoKz1JcsQ.gif",className:"spinner",alt:"spinner"}):Object(i.jsxs)("div",{children:[Object(i.jsx)(S,{}),Object(i.jsx)("div",{children:Object(i.jsx)(w,{onSubmit:this.onSubmit})}),Object(i.jsxs)("div",{children:[Object(i.jsx)(y,{quiz:this.props.quizzes[this.props.currentQuiz],quizzes:this.props.quizzes,onQuestionAnswer:this.onQuestionAnswer,onChangeQuiz:this.onChangeQuiz,onSubmit:this.onSubmit,onReset:this.onReset}),Object(i.jsx)(q,{onChangeQuiz:this.onChangeQuiz,quizzes:this.props.quizzes})]})]})})}}]),n}(r.a.Component);var A=Object(l.b)((function(t){return Object(d.a)({},t)}))(I),E=function(t){Object(h.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(a.a)(this,n),(i=e.call(this,t)).initialState={score:0,finished:!1,currentQuiz:0,quizzes:[]},i.store=i.configureStore(),i}return Object(u.a)(n,[{key:"render",value:function(){return Object(i.jsx)(l.a,{store:this.store,children:Object(i.jsx)("div",{style:{height:"100%"},children:Object(i.jsx)(A,{})})})}},{key:"configureStore",value:function(){return Object(j.c)(x,this.initialState)}}]),n}(r.a.Component),T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,56)).then((function(e){var n=e.getCLS,i=e.getFID,s=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),i(t),s(t),r(t),o(t)}))};n(54);c.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(E,{})}),document.getElementById("root")),T()}},[[55,1,2]]]);
//# sourceMappingURL=main.a8e98ede.chunk.js.map